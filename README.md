# Bounty Project for CA Yimby bounty
### A project to create shapefiles for all cities belonging to ABAG, SACOG and SCAG.

#### (shapefile path: counties/{county name}/cities/{city name}/output/{document name}/misc)

## How this project was created:
1. I generated a list of incorporated cities along with associated planning agency (SACOG, ABAG, etc), county, and downloaded links to housing element PDFs.
2. Geojson parcel data from each county website along with cleanup, normalization, and transfer to my database.
3. Download each PDF, use machine learning to extract the data. Then do a second pass to clean up the (very messy) data. Generate metadata (page count, thumbnail, etc). Transfer all data to my database.
4. Created endpoints to query database from the UI.
5. Extra: Created web UI viewer using nextjs and react.

## Results

# SACOG
```
+------------------------------------------------------------------+
|  |      city     |documents|tables|apns|parcels|agency|  county  |
+--+---------------+---------+------+----+-------+------+----------+
| 1|     Auburn    |    3    |   4  | 788|  772  | SACOG|  Placer  |
+--+---------------+---------+------+----+-------+------+----------+
| 2| Citrus Heights|    3    |  11  | 162|  128  | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
| 3|     Colfax    |    2    |   3  | 58 |   56  | SACOG|  Placer  |
+--+---------------+---------+------+----+-------+------+----------+
| 4|     Davis     |    3    |  17  | 267|  255  | SACOG|   Yolo   |
+--+---------------+---------+------+----+-------+------+----------+
| 5|   Elk Grove   |    4    |  30  | 775|  1810 | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
| 6|     Folsom    |    3    |  26  | 997|  778  | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
| 7|      Galt     |    4    |  18  | 844|  320  | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
| 8|    Isleton    |    3    |   2  | 18 |   18  | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
| 9|    Lincoln    |    2    |   3  | 51 |   51  | SACOG|  Placer  |
+--+---------------+---------+------+----+-------+------+----------+
|10|    Live Oak   |    2    |   2  | 656|  340  | SACOG|  Sutter  |
+--+---------------+---------+------+----+-------+------+----------+
|11|     Loomis    |    2    |   2  | 122|  114  | SACOG|  Placer  |
+--+---------------+---------+------+----+-------+------+----------+
|12|   Marysville  |    3    |   9  | 522|  522  | SACOG|   Yuba   |
+--+---------------+---------+------+----+-------+------+----------+
|13|  Placerville  |    4    |  10  | 122|   1   | SACOG| El Dorado|
+--+---------------+---------+------+----+-------+------+----------+
|14| Rancho Cordova|    3    |   6  | 157|  1473 | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
|15|    Rocklin    |    3    |   6  | 525|  500  | SACOG|  Placer  |
+--+---------------+---------+------+----+-------+------+----------+
|16|   Roseville   |    3    |   3  | 649|  502  | SACOG|  Placer  |
+--+---------------+---------+------+----+-------+------+----------+
|17|   Sacramento  |    3    |   5  |5836|  5848 | SACOG|Sacramento|
+--+---------------+---------+------+----+-------+------+----------+
|18|West Sacramento|    4    |   7  | 642|  324  | SACOG|   Yolo   |
+--+---------------+---------+------+----+-------+------+----------+
|19|   Wheatland   |    2    |   2  | 108|  106  | SACOG|   Yuba   |
+--+---------------+---------+------+----+-------+------+----------+
|20|    Winters    |    3    |   7  | 666|  360  | SACOG|   Yolo   |
+--+---------------+---------+------+----+-------+------+----------+
|21|    Woodland   |    5    |  11  | 727|  660  | SACOG|   Yolo   |
+--+---------------+---------+------+----+-------+------+----------+
|22|   Yuba City   |    2    |  11  | 505|  351  | SACOG|  Sutter  |
+------------------------------------------------------------------+
```
# ABAG
```
+-------------------------------------------------------------------------+
|  |        city       |documents|tables|apns|parcels|agency|    county   |
+--+-------------------+---------+------+----+-------+------+-------------+
| 1|      Alameda      |    2    |   7  | 50 |   40  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
| 2|       Albany      |    2    |  62  |1063|  1489 | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
| 3|  American Canyon  |    2    |   0  |  0 |   0   | ABAG |     Napa    |
+--+-------------------+---------+------+----+-------+------+-------------+
| 4|      Antioch      |    2    |  13  | 638|  521  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
| 5|      Atherton     |    2    |   0  |  0 |   0   | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
| 6|      Belmont      |    2    |   2  | 16 |   10  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
| 7|     Belvedere     |    1    |   8  | 83 |   78  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
| 8|      Benicia      |    2    |  42  | 877|  761  | ABAG |    Solano   |
+--+-------------------+---------+------+----+-------+------+-------------+
| 9|      Berkeley     |    3    |   3  | 576|   17  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|10|     Brentwood     |    2    |  11  | 295|  200  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|11|      Brisbane     |    4    |  12  |1240|  1160 | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|12|     Burlingame    |    1    |   4  | 140|  256  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|13|     Calistoga     |    2    |   5  | 52 |   56  | ABAG |     Napa    |
+--+-------------------+---------+------+----+-------+------+-------------+
|14|      Campbell     |    3    |  14  | 997|  993  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|15|      Clayton      |    2    |   4  | 102|  110  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|16|     Cloverdale    |    2    |   5  | 40 |  370  | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|17|       Colma       |    2    |   2  | 145|  109  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|18|      Concord      |    2    |   6  |1037|  431  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|19|    Corte Madera   |    3    |   0  |  0 |   0   | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|20|       Cotati      |    2    |   6  | 69 |  169  | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|21|     Cupertino     |    1    |   0  |  0 |   0   | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|22|     Daly City     |    1    |   2  | 171|  162  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|23|      Danville     |    2    |  61  | 435|  768  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|24|       Dixon       |    2    |   6  | 33 |   24  | ABAG |    Solano   |
+--+-------------------+---------+------+----+-------+------+-------------+
|25|       Dublin      |    2    |   9  | 82 |  130  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|26|   East Palo Alto  |    2    |  19  | 118|  307  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|27|     El Cerrito    |    2    |   6  | 160|  149  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|28|     Emeryville    |    2    |  16  | 230|   6   | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|29|      Fairfax      |    1    |  10  | 432|  181  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|30|     Fairfield     |    2    |  14  | 215|  503  | ABAG |    Solano   |
+--+-------------------+---------+------+----+-------+------+-------------+
|31|    Foster City    |    2    |  13  | 95 |   81  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|32|      Fremont      |    2    |   6  | 574|  723  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|33|       Gilroy      |    2    |  33  | 124|   72  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|34|      Hayward      |    3    |  14  | 348|   0   | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|35|     Healdsburg    |    2    |   3  | 21 |   2   | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|36|      Hercules     |    3    |   5  |  5 |   0   | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|37|    Hillsborough   |    2    |   7  | 109|   46  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|38|     Lafayette     |    2    |  27  | 708|  416  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|39|      Larkspur     |    1    |   4  | 80 |   74  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|40|     Livermore     |    3    |   7  | 292|   0   | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|41|     Los Altos     |    2    |   7  | 589|  532  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|42|  Los Altos Hills  |    3    |  23  | 295|  186  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|43|     Los Gatos     |    3    |  11  | 551|  526  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|44|     Menlo Park    |    2    |  214 |1088|  617  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|45|    Mill Valley    |    1    |   3  | 257|  261  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|46|      Millbrae     |    2    |  14  | 318|  108  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|47|      Milpitas     |    2    |   0  |  0 |   0   | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|48|    Monte Sereno   |    2    |   2  | 280|  346  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|49|       Moraga      |    3    |   9  | 169|  2158 | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|50|    Morgan Hill    |    2    |   6  | 118|  761  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|51|   Mountain View   |    3    |  11  | 688|  640  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|52|        Napa       |    1    |   0  |  0 |   0   | ABAG |     Napa    |
+--+-------------------+---------+------+----+-------+------+-------------+
|53|       Newark      |    1    |   3  | 12 |   5   | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|54|       Novato      |    1    |   4  | 44 |   24  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|55|      Oakland      |    2    |  11  |4185|  443  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|56|       Oakley      |    4    |  31  | 596|  571  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|57|       Orinda      |    3    |  21  |1784|  1751 | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|58|      Pacifica     |    1    |   2  | 49 |   45  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|59|     Palo Alto     |    1    |  13  | 447|  447  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|60|      Petaluma     |    2    |   6  | 130|   87  | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|61|      Piedmont     |    2    |   8  | 289|   0   | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|62|       Pinole      |    2    |  15  | 144|  138  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|63|     Pittsburg     |    1    |   2  | 124|  118  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|64|   Pleasant Hill   |    1    |   4  | 154|  141  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|65|     Pleasanton    |    2    |  28  | 839|   48  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|66|   Portola Valley  |    1    |   7  | 27 |   30  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|67|    Redwood City   |    2    |   3  | 176|  214  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|68|      Richmond     |    2    |   5  | 383|  321  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|69|     Rio Vista     |    2    |   9  | 160|  156  | ABAG |    Solano   |
+--+-------------------+---------+------+----+-------+------+-------------+
|70|    Rohnert Park   |    2    |   7  | 93 |  110  | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|71|        Ross       |    1    |   3  | 40 |   38  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|72|     San Bruno     |    2    |   4  | 116|  107  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|73|     San Carlos    |    2    |   5  | 995|  907  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|74|   San Francisco   |    4    |   7  | 174|  147  | ABAG |San Francisco|
+--+-------------------+---------+------+----+-------+------+-------------+
|75|      San Jose     |    1    |   3  | 231|  123  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|76|    San Leandro    |    2    |   8  | 99 |   0   | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|77|     San Mateo     |    2    |   8  | 577|  437  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|78|     San Pablo     |    1    |   4  | 195|  191  | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|79|     San Rafael    |    2    |   3  | 392|  125  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|80|     San Ramon     |    3    |  25  | 195|  2052 | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|81|    San Anselmo    |    1    |   1  | 418|  171  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|82|    Santa Clara    |    2    |   6  | 157|  136  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|83|     Santa Rosa    |    2    |  20  |2748|  2790 | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|84|      Saratoga     |    2    |  37  | 896|  744  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|85|     Sausalito     |    2    |  14  |2477|  2405 | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|86|     Sebastopol    |    2    |   8  | 154|  148  | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|87|       Sonoma      |    2    |   1  | 20 |   1   | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|88|South San Francisco|    2    |  11  | 363|  640  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|89|    Suisun City    |    2    |   8  | 73 |   65  | ABAG |    Solano   |
+--+-------------------+---------+------+----+-------+------+-------------+
|90|     Sunnyvale     |    1    |   6  | 232|  224  | ABAG | Santa Clara |
+--+-------------------+---------+------+----+-------+------+-------------+
|91|      Tiburon      |    2    |   4  | 127|  126  | ABAG |    Marin    |
+--+-------------------+---------+------+----+-------+------+-------------+
|92|     Union City    |    2    |   7  | 166|  360  | ABAG |   Alameda   |
+--+-------------------+---------+------+----+-------+------+-------------+
|93|     Vacaville     |    2    |  15  | 804|  614  | ABAG |    Solano   |
+--+-------------------+---------+------+----+-------+------+-------------+
|94|    Walnut Creek   |    4    |  14  |2810|  1658 | ABAG | Contra Costa|
+--+-------------------+---------+------+----+-------+------+-------------+
|95|      Windsor      |    2    |   8  | 159|  146  | ABAG |    Sonoma   |
+--+-------------------+---------+------+----+-------+------+-------------+
|96|      Woodside     |    2    |   6  | 724|  627  | ABAG |  San Mateo  |
+--+-------------------+---------+------+----+-------+------+-------------+
|97|     Yountville    |    2    |   6  | 21 |   18  | ABAG |     Napa    |
+-------------------------------------------------------------------------+
```
# SCAG
```
+---------------------------------------------------------+
| |  city  |documents|tables|apns|parcels|agency|  county |
+-+--------+---------+------+----+-------+------+---------+
|1|Murrieta|    4    |  11  |1320|  4152 | SCAG |Riverside|
+---------------------------------------------------------+
```
